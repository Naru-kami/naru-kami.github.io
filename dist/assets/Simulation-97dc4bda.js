import{h as le,g as de,s as x,m as S,i as h,r as m,u as N,k as E,j as i,l as j,n as q,t as ve,x as U,y as O,z as xe,a as c,q as Ce,v as ye,p as L,A as Z,T as f,F as R,P as ke,B as $,D as H,E as G,G as V,H as P,C as z}from"./index-1cd1b434.js";import{u as p}from"./Main-b90b3d52.js";import{d as Se,p as F,r as ce,c as _}from"./utils-0a1c2836.js";import{d as we}from"./Calculate-f7e0cf79.js";import{B as ue}from"./Button-5c9e2102.js";import{g as Ie,F as pe,S as me,M as T}from"./Select-f4e41420.js";import{P as Me}from"./react-plotly-4498cfa9.js";import{d as $e,C as Re,I as ze,L as Le,M as Pe,a as _e,W as Be,S as Fe}from"./Modebar-062f1d03.js";import{N as he}from"./NumberInput-80fc616e.js";import{T as Te}from"./ResetStorage-57376924.js";import{G as k}from"./Grid-5132b5bf.js";import"./FastContext-ed547aba.js";import"./Input-c7118c76.js";import"./Grow-863821b3.js";import"./Close-742e01c4.js";function Ae(e){return le("MuiListSubheader",e)}de("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const We=["className","color","component","disableGutters","disableSticky","inset"],De=e=>{const{classes:r,color:t,disableGutters:n,inset:l,disableSticky:a}=e,o={root:["root",t!=="default"&&`color${S(t)}`,!n&&"gutters",l&&"inset",!a&&"sticky"]};return q(o,Ae,r)},Ne=x("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.color!=="default"&&r[`color${S(t.color)}`],!t.disableGutters&&r.gutters,t.inset&&r.inset,!t.disableSticky&&r.sticky]}})(({theme:e,ownerState:r})=>h({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},r.color==="primary"&&{color:(e.vars||e).palette.primary.main},r.color==="inherit"&&{color:"inherit"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.inset&&{paddingLeft:72},!r.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),ge=m.forwardRef(function(r,t){const n=N({props:r,name:"MuiListSubheader"}),{className:l,color:a="default",component:o="li",disableGutters:d=!1,disableSticky:s=!1,inset:u=!1}=n,g=E(n,We),b=h({},n,{color:a,component:o,disableGutters:d,disableSticky:s,inset:u}),C=De(b);return i(Ne,h({as:o,className:j(C.root,l),ref:t,ownerState:b},g))});ge.muiSkipListHighlight=!0;const Ee=ge,je=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],qe=e=>{const{absolute:r,children:t,classes:n,flexItem:l,light:a,orientation:o,textAlign:d,variant:s}=e;return q({root:["root",r&&"absolute",s,a&&"light",o==="vertical"&&"vertical",l&&"flexItem",t&&"withChildren",t&&o==="vertical"&&"withChildrenVertical",d==="right"&&o!=="vertical"&&"textAlignRight",d==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},Ie,n)},Ue=x("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.absolute&&r.absolute,r[t.variant],t.light&&r.light,t.orientation==="vertical"&&r.vertical,t.flexItem&&r.flexItem,t.children&&r.withChildren,t.children&&t.orientation==="vertical"&&r.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&r.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&r.textAlignLeft]}})(({theme:e,ownerState:r})=>h({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:ve(e.palette.divider,.08)},r.variant==="inset"&&{marginLeft:72},r.variant==="middle"&&r.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},r.variant==="middle"&&r.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},r.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"}),({theme:e,ownerState:r})=>h({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}}),({theme:e,ownerState:r})=>h({},r.children&&r.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${(e.vars||e).palette.divider}`,transform:"translateX(0%)"}}),({ownerState:e})=>h({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Oe=x("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.wrapper,t.orientation==="vertical"&&r.wrapperVertical]}})(({theme:e,ownerState:r})=>h({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},r.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),He=m.forwardRef(function(r,t){const n=N({props:r,name:"MuiDivider"}),{absolute:l=!1,children:a,className:o,component:d=a?"div":"hr",flexItem:s=!1,light:u=!1,orientation:g="horizontal",role:b=d!=="hr"?"separator":void 0,textAlign:C="center",variant:w="fullWidth"}=n,y=E(n,je),v=h({},n,{absolute:l,component:d,flexItem:s,light:u,orientation:g,role:b,textAlign:C,variant:w}),Q=qe(v);return i(Ue,h({as:d,className:j(Q.root,o),role:b,ref:t,ownerState:v},y,{children:a?i(Oe,{className:Q.wrapper,ownerState:v,children:a}):null}))}),Ge=He;function Ve(e){return le("MuiLinearProgress",e)}de("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Ke=["className","color","value","valueBuffer","variant"];let M=e=>e,ee,re,te,ae,ie,oe;const A=4,Xe=U(ee||(ee=M`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Ye=U(re||(re=M`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Je=U(te||(te=M`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Qe=e=>{const{classes:r,variant:t,color:n}=e,l={root:["root",`color${S(n)}`,t],dashed:["dashed",`dashedColor${S(n)}`],bar1:["bar",`barColor${S(n)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar",t!=="buffer"&&`barColor${S(n)}`,t==="buffer"&&`color${S(n)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return q(l,Ve,r)},K=(e,r)=>r==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${r}Bg`]:e.palette.mode==="light"?Ce(e.palette[r].main,.62):ye(e.palette[r].main,.5),Ze=x("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`color${S(t.color)}`],r[t.variant]]}})(({ownerState:e,theme:r})=>h({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:K(r,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),er=x("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.dashed,r[`dashedColor${S(t.color)}`]]}})(({ownerState:e,theme:r})=>{const t=K(r,e.color);return h({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},O(ae||(ae=M`
    animation: ${0} 3s infinite linear;
  `),Je)),rr=x("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.bar,r[`barColor${S(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&r.bar1Indeterminate,t.variant==="determinate"&&r.bar1Determinate,t.variant==="buffer"&&r.bar1Buffer]}})(({ownerState:e,theme:r})=>h({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(r.vars||r).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${A}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${A}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&O(ie||(ie=M`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Xe)),tr=x("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.bar,r[`barColor${S(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&r.bar2Indeterminate,t.variant==="buffer"&&r.bar2Buffer]}})(({ownerState:e,theme:r})=>h({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(r.vars||r).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:K(r,e.color),transition:`transform .${A}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&O(oe||(oe=M`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Ye)),ar=m.forwardRef(function(r,t){const n=N({props:r,name:"MuiLinearProgress"}),{className:l,color:a="primary",value:o,valueBuffer:d,variant:s="indeterminate"}=n,u=E(n,Ke),g=h({},n,{color:a,variant:s}),b=Qe(g),C=xe(),w={},y={bar1:{},bar2:{}};if((s==="determinate"||s==="buffer")&&o!==void 0){w["aria-valuenow"]=Math.round(o),w["aria-valuemin"]=0,w["aria-valuemax"]=100;let v=o-100;C.direction==="rtl"&&(v=-v),y.bar1.transform=`translateX(${v}%)`}if(s==="buffer"&&d!==void 0){let v=(d||0)-100;C.direction==="rtl"&&(v=-v),y.bar2.transform=`translateX(${v}%)`}return c(Ze,h({className:j(b.root,l),ownerState:g,role:"progressbar"},w,{ref:t},u,{children:[s==="buffer"?i(er,{className:b.dashed,ownerState:g}):null,i(rr,{className:b.bar1,ownerState:g,style:y.bar1}),s==="determinate"?null:i(tr,{className:b.bar2,ownerState:g,style:y.bar2})]}))}),ir=ar,or=x(ue)(({theme:e})=>({color:e.palette.getContrastText(L[700]),backgroundColor:L[700],"&:hover":{backgroundColor:L[900]},height:"40px",paddingLeft:8,marginLeft:8,gap:8}));var I=[];const nr=(e,r,t)=>{if(I.length>0){I.forEach(a=>a.terminate()),I=[],r(a=>{var o={...a};return o.plotdataSim.progress=100,o});return}const n=e.threads;var l=0;I=new Array(n).fill(NaN).map((a,o)=>o?new Worker(new URL("/naru-kami.github.io/assets/Worker-d896c661.js",self.location)):new Worker(new URL("/naru-kami.github.io/assets/MainWorker-2bc2d157.js",self.location))),I.forEach((a,o)=>{o?a.postMessage({char:{...e.char},weap:{...e.weap},starglitter:{...e.starglitter},mode:e.mode,samplesize:(e.samplesize-e.samplesize%e.threads)/e.threads}):a.postMessage({char:{...e.char},weap:{...e.weap},starglitter:{...e.starglitter},mode:e.mode,samplesize:(e.samplesize-e.samplesize%e.threads)/e.threads+e.samplesize%e.threads})}),I.forEach(a=>{a.onmessage=o=>{if(o.data.progress){r(s=>{var u={...s};return u.plotdataSim.progress=o.data.progress,u});return}const{data:d}=o;d.pullsResult.forEach((s,u)=>{t[u]+=s}),l++,l==n&&(r(s=>{var u={...s};u.plotdataSim.x=Se(t,e.mode=="fixed"&&e.weap.enabled?1:0);var g=[];return t.forEach((b,C)=>{g[C]=b+(typeof u.plotdataSim.y[C]=="number"?u.plotdataSim.y[C]:0)}),u.plotdataSim.y=[...g],u.plotdataSim.progress=100,u}),l=0,t=[],I.forEach(s=>s.terminate()),I=[])}})};function sr(){const[e,r]=p(l=>l),t=m.useCallback(()=>{var l=e.mode=="distribution"?new Array((e.char.enabled?90*(2*e.char.goal+2-+e.char.guaranteed)-e.char.pity:0)+(e.weap.enabled?231*e.weap.goal-e.weap.pity:0)+1).fill(0):new Array(+e.char.enabled*7+ +e.weap.enabled*5+1).fill(0);r(a=>{var o={...a};return o.plotdataSim.progress=0,o.plotdataSim.changed&&(o.plotdataSim.changed=!1,o.plotdataSim.x=[],o.plotdataSim.y=[]),o}),nr(e,r,l)},[e,r]);m.useEffect(()=>(r(l=>{var a={...l};return a.plotdataSim.progress=100,a}),r(l=>{var a={...l};return a.plotdataSim.progress=100,a})),[]);const n=m.useMemo(()=>e.plotdataSim.progress!==100?{backgroundColor:Z[600],"&:hover":{backgroundColor:Z[800]}}:{},[e.plotdataSim.progress]);return c(or,{variant:"contained",onClick:t,disabled:!e.char.enabled&&!e.weap.enabled,sx:{...n},children:[i(we,{}),i(f,{variant:"body1",letterSpacing:1,lineHeight:1,fontWeight:600,children:e.plotdataSim.progress!==100?"Terminate":e.plotdataSim.y.length===0&&"Simulate"||"More Samples"})]})}const lr={PaperProps:{sx:{backgroundColor:"#242734",backgroundImage:"none","& .MuiMenuItem-root.Mui-selected":{backgroundColor:"#343746"},"& .MuiMenuItem-root:hover":{backgroundColor:"#343746"},"& .MuiMenuItem-root.Mui-selected:hover":{backgroundColor:"#343746"}}}};function dr(){const[e,r]=p(n=>n.threads),t=m.useCallback(n=>{r({threads:n.target.value})},[r]);return i(pe,{size:"small",sx:{minWidth:50,height:"100%"},children:c(me,{value:e,onChange:t,MenuProps:lr,children:[i(Ee,{sx:{backgroundColor:"transparent",color:"#fff"},children:c(f,{variant:"body2",sx:{py:1},children:["Workload will be split among threads. ",i("br",{}),"More Threads will speed up execution at the cost of higher CPU load."]})}),i(Ge,{sx:{my:1}}),[10,9,8,7,6,5,4,3,2,1].map(n=>c(T,{value:n,children:[" ",n," Threads "]},n))]})})}function cr(){return c("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i(sr,{}),i(dr,{})]})}const ur={responsive:!0,displaylogo:!1,showTips:!1,toImageButtonOptions:{format:"svg",filename:"Pull statistics"}},pr={name:"",fillcolor:"#1772CB33",line:{color:"#1772CB"},marker:{size:10}};function mr(){const[e]=p(r=>r.plotdataSim.progress);return c($,{sx:{display:e!==100?"flex":"none",alignItems:"center",marginBottom:1},children:[i($,{sx:{width:"100%",mr:1,ml:3.375},children:i(ir,{variant:"determinate",value:e})}),i($,{sx:{minWidth:35,mr:2},children:i(f,{variant:"body2",color:"text.secondary",children:`${Math.round(e)}%`})})]})}function hr(){const[e]=p(s=>s.plotdataSim.x),[r]=p(s=>s.plotdataSim.y),[t]=p(s=>s.plotdataSim.cumulative),[n]=p(s=>s.char.enabled),[l]=p(s=>s.weap.enabled),[a]=p(s=>s.mode),o=m.useMemo(()=>{var s=r.reduce((y,v)=>y+v,0),u=[...r].map(y=>y/s*100);t&&a=="distribution"?u=F(u):a=="fixed"&&(u.shift(),u=F(u.reverse()).reverse());const g=a=="distribution"?"tozeroy":"none",b=u.map(y=>ce(y,4)),C=a=="distribution"?"lines":"lines+markers",w=a=="distribution"?"<b> %{x:.0f} Pulls </b> <br> %{customdata}% <br>":`<b> ${n?"C":"R"}%{x:.0f} </b> <br> %{customdata}% <br>`;return{x:e,y:u,...pr,mode:C,fill:g,customdata:b,hovertemplate:w}},[e,r,t]),d=m.useMemo(()=>{const s=l?[.825,5.125]:n?[-.125,6.125]:[0,0],u=l?"R":n?"C":"";return a=="fixed"?{xaxis:{title:"",mirror:!0,ticks:"outside",showline:!0,zeroline:!1,color:"#FFF",tickprefix:u,range:s,dtick:1},yaxis:{title:"",mirror:!0,ticks:"outside",showline:!0,zeroline:!1,color:"#FFF",ticksuffix:"%",range:[-1,101],rangemode:"normal"},margin:{l:55,r:35,b:70,t:35,pad:4},showlegend:!1,hovermode:"x",dragmode:!1,hoverlabel:{bgcolor:"#0C0F1E"},plot_bgcolor:"#0C0F1E",paper_bgcolor:"#0C0F1E"}:{xaxis:{title:"Pulls",mirror:!0,ticks:"outside",showline:!0,showgrid:!0,zeroline:!1,color:"#FFF"},yaxis:{title:"",mirror:!0,ticks:"outside",showline:!0,showgrid:!0,showticksuffix:"all",ticksuffix:"%",zeroline:!1,color:"#FFF",rangemode:"nonnegative"},margin:{l:55,r:35,b:70,t:35,pad:4},showlegend:!1,hovermode:"x",dragmode:!1,hoverlabel:{bgcolor:"#0C0F1E"},plot_bgcolor:"#0C0F1E",paper_bgcolor:"#0C0F1E"}},[r]);return i(R,{children:i(ke,{variant:"outlined",sx:{background:"transparent"},children:c("div",{style:{maxHeight:"620px",maxWidth:"100%",marginInline:"auto",aspectRatio:14/9},children:[i(Me,{data:[o],layout:d,config:ur,style:{width:"100%",height:"100%"}}),i(mr,{})]})})})}var X={},gr=G;Object.defineProperty(X,"__esModule",{value:!0});var fe=X.default=void 0,fr=gr(H()),br=V,vr=(0,fr.default)((0,br.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");fe=X.default=vr;var Y={},xr=G;Object.defineProperty(Y,"__esModule",{value:!0});var be=Y.default=void 0,Cr=xr(H()),yr=V,kr=(0,Cr.default)((0,yr.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");be=Y.default=kr;var J={},Sr=G;Object.defineProperty(J,"__esModule",{value:!0});var W=J.default=void 0,wr=Sr(H()),Ir=V,Mr=(0,wr.default)((0,Ir.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");W=J.default=Mr;const D=x(ue)(({theme:e})=>({lineHeight:0,minWidth:"24px",marginLeft:"auto",padding:4,color:e.palette.getContrastText(P[700]),backgroundColor:P[700],"&:hover":{backgroundColor:P[900]},aspectRatio:"1"})),B=x(z)(()=>({display:"flex",alignItems:"center",borderRadius:"6px",backgroundImage:"none"}));function $r(){const[e,r]=p(a=>a.samplesize),t=m.useCallback(()=>{r(a=>{var o={...a};return o.samplesize=_(o.samplesize-5e5,0),o})},[]),n=m.useCallback(()=>{r(a=>{var o={...a};return o.samplesize=_(o.samplesize+5e5,0),o})},[]),l=m.useCallback(a=>{const o=_(a,0);return r(d=>{var s={...d};return s.samplesize=o,s}),o},[]);return c(R,{children:[c("div",{style:{display:"flex",alignItems:"center"},children:[i(f,{sx:{mr:2},children:"Sample interval:"}),c(B,{sx:{backgroundColor:e>=1e8&&"#d32f2fbb"||e>=1e7&&"#f57c00aa"||"#242734"},children:[i(D,{onClick:t,children:i(be,{})}),i(he,{value:e,format:!0,onChange:l,sx:{mx:1,minWidth:"100px",width:(e.toString().length+1)*12+"px",backgroundColor:"transparent"}}),i(D,{onClick:n,children:i(fe,{})})]})]}),e>=1e8&&c(B,{sx:{width:"100%",p:1,backgroundColor:"#d32f2fbb",my:2},children:[i(W,{}),i(f,{variant:"body2",sx:{px:1},children:"Such high sample intervals are not recommended and take a long time to execute. Only do this if need higher precision."})]})||e>=1e7&&c(B,{sx:{width:"100%",p:1,backgroundColor:"#f57c00aa",my:2},children:[i(W,{}),i(f,{variant:"body2",sx:{px:1},children:"High sample intervals may take a long execution time"})]})]})}function Rr(){const[e]=p(a=>a.plotdataSim.y),[r,t]=p(a=>a.plotdataSim.cumulative),[n]=p(a=>a.mode),l=m.useCallback(()=>{t(a=>{var o={...a};return o.plotdataSim.cumulative=!o.plotdataSim.cumulative,o})},[e]);return c("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingInline:"8px",paddingBlock:"16px"},children:[c(f,{fontSize:14,children:["Sample size: ",new Intl.NumberFormat().format(e.reduce((a,o)=>a+o,0))]}),n=="distribution"&&i(Te,{title:c(f,{variant:"body2",children:["Switch to ",r&&"density"||"cumulative"," distribution"]}),arrow:!0,placement:"top",children:i(D,{onClick:l,children:i($e,{sx:{transform:"rotate(75deg)"}})})})]})}function zr(){return c(R,{children:[i(Rr,{}),i($r,{})]})}const ne="/naru-kami.github.io/assets/starglitter-a38bbce3.png",Lr="/naru-kami.github.io/assets/fiveStarCons-d49cf062.webp",Pr="/naru-kami.github.io/assets/fourStarCons-7647f7c8.png",_r=x(Le)(()=>({backgroundColor:"#1B1D2A",height:"40px",backgroundImage:"none",padding:0})),Br=x(me)(()=>({color:"#FFF",backgroundColor:"#242734","& .MuiSvgIcon-root":{color:"#CCC"}})),Fr={PaperProps:{sx:{backgroundColor:"#242734",backgroundImage:"none","& .MuiMenuItem-root.Mui-selected":{backgroundColor:"#343746"},"& .MuiMenuItem-root:hover":{backgroundColor:"#343746"},"& .MuiMenuItem-root.Mui-selected:hover":{backgroundColor:"#343746"}}}};function Tr(){const[e,r]=p(a=>a.starglitter.enabled),t=m.useCallback((a,o)=>{r(d=>{var s={...d};return s.starglitter.enabled=o,s.plotdataSim.changed=!0,s})},[r]),[n]=p(a=>a.starglitter.count),l=m.useCallback(a=>{r(o=>{var d={...o};return d.starglitter.count=a,d.plotdataSim.changed=!0,d})},[]);return c(z,{sx:{bgcolor:"#1B1D2A",backgroundImage:"none",width:"100%"},children:[i(_r,{children:c("label",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",paddingInline:"8px"},children:[c(f,{sx:{display:"flex",alignItems:"center",gap:1},children:[i("img",{src:ne,width:"24px",height:"24px"})," Use Starglitter?"]}),i(Re,{checked:e,onChange:t})]})}),c($,{sx:{display:e?"block":"none",position:"relative",p:1},children:[i(f,{variant:"subtitle1",children:"Enter Starglitter and Constellations:"}),c(k,{container:!0,spacing:1,children:[i(k,{item:!0,xs:6,children:i(he,{value:n,onChange:l,id:"starglitterCount",startAdornment:i(ze,{position:"start",sx:{mr:"-0.125rem",ml:".125rem"},children:i("label",{htmlFor:"starglitterCount",children:i(f,{variant:"body2",sx:{display:"flex",alignItems:"center"},children:i("img",{src:ne,width:29,height:29})})})}),inputProps:{step:1,min:0,type:"number",style:{padding:"3px 0px"}},sx:{borderRadius:"6px",width:"100%",height:"100%",m:0,px:.5}})}),i(k,{item:!0,xs:6,children:i(se,{ns:"fiveStar",id:0,adornment:i("img",{src:Lr,width:24,height:24})})}),[1,2,3].map(a=>i(k,{item:!0,xs:4,children:i(se,{ns:"first",id:a,adornment:i("img",{src:Pr,width:24,height:24})})},a))]}),!e&&i("div",{style:{position:"absolute",top:8,bottom:0,left:0,right:0,opacity:.7,backgroundColor:"#1B1D2A",zIndex:100},children:" "})]})]})}function se({adornment:e,id:r}){const[t,n]=p(a=>a.starglitter.cons[r]),l=m.useCallback(a=>{n(o=>{var d={...o};return d.starglitter.cons[r]=a.target.value,d.plotdataSim.changed=!0,d})},[]);return i("div",{style:{display:"flex"},children:i(pe,{size:"small",sx:{width:"100%"},children:c(Br,{value:t,onChange:l,MenuProps:Fr,children:[i(T,{value:-1,children:c(f,{variant:"body1",sx:{display:"flex",alignItems:"center"},children:[e,"None"]})}),[0,1,2,3,4,5,6].map(a=>i(T,{value:a,children:c(f,{variant:"body1",sx:{display:"flex",alignItems:"center"},children:[e,"C",a]})},a))]})})})}const Ar=x(z)(()=>({padding:8,paddingLeft:16,backgroundColor:"#242734",borderRadius:"6px",backgroundImage:"none"}));function Wr(){const[e]=p(a=>a.plotdataSim.y),[r]=p(a=>a.char.enabled),[t]=p(a=>a.weap.enabled),n=m.useMemo(()=>{const a=+r*7+ +t*5;var o=e.reduce((s,u)=>s+u,0),d=[...e].map(s=>s/o*100);return d.shift(),d=F(d.reverse()).reverse(),d.length==a?d:new Array(a).fill(0)},[e]),l=m.useMemo(()=>({prefix:t&&"R"||r&&"C",offset:+t*1+ +r*0}),[e]);return i(z,{sx:{p:2,bgcolor:"#1B1D2A",backgroundImage:"none",mx:"auto",mb:2,position:"relative"},children:i("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:12},children:n.map((a,o)=>i(Dr,{id:`${l.prefix}`+(o+l.offset),result:a},o))})})}function Dr({id:e,result:r}){return c(Ar,{children:[i(f,{variant:"subtitle1",fontWeight:800,children:e}),c(f,{variant:"subtitle1",fontWeight:500,children:[ce(r),"%"]})]})}function rt(){return c(k,{container:!0,spacing:2,sx:{maxWidth:"2500px"},children:[i(k,{item:!0,xs:12,children:i(Pe,{approach:"simulation"})}),c(k,{item:!0,sm:12,xl:4,children:[c(k,{container:!0,spacing:2,children:[i(k,{item:!0,md:6,xs:12,xl:12,children:i(_e,{})}),i(k,{item:!0,md:6,xs:12,xl:12,children:i(Be,{})}),i(k,{item:!0,xs:12,children:i(Tr,{})})]}),c("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,marginTop:"24px",marginBottom:"8px"},children:[i(cr,{}),i(Fe,{})]})]}),i(k,{item:!0,xs:12,xl:8,children:i(Nr,{})})]})}function Nr(){const[e]=p(r=>r.mode);return c(R,{children:[e=="fixed"&&i(Wr,{}),i(hr,{}),i(zr,{})]})}export{rt as default};
