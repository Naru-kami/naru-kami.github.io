import{R as u,j as a,a as s,B as c,n as v,o as f,T as m,r as d,S as y,_ as S,F as x}from"./index-c10e2553.js";import{c as C}from"./FastContext-257893f5.js";function _(e,t){const[r,l]=u.useState(()=>{const n=localStorage.getItem(e);return n==null?typeof t=="function"?t():t:JSON.parse(n)});return u.useEffect(()=>{localStorage.setItem(e,JSON.stringify(r))},[r,e]),[r,l]}const p="Wishing.Parameters";function F(e){return typeof e=="object"&&e!==null&&"mode"in e&&(e.mode==="distribution"||e.mode==="fixed")&&"char"in e&&typeof e.char=="object"&&"enabled"in e.char&&typeof e.char.enabled=="boolean"&&"goal"in e.char&&typeof e.char.goal=="number"&&"pity"in e.char&&typeof e.char.pity=="number"&&"guaranteed"in e.char&&typeof e.char.guaranteed=="boolean"&&"weap"in e&&typeof e.weap=="object"&&"enabled"in e.weap&&typeof e.weap.enabled=="boolean"&&"goal"in e.weap&&typeof e.weap.goal=="number"&&"pity"in e.weap&&typeof e.weap.pity=="number"&&"guaranteed"in e.weap&&typeof e.weap.guaranteed=="boolean"&&"starglitter"in e&&typeof e.starglitter=="object"&&"enabled"in e.starglitter&&typeof e.starglitter.enabled=="boolean"&&"count"in e.starglitter&&typeof e.starglitter.count=="number"&&"cons"in e.starglitter&&Array.isArray(e.starglitter.cons)&&"guaranteed"in e.char&&typeof e.char.guaranteed=="boolean"&&"samplesize"in e&&typeof e.samplesize=="number"&&"tab"in e&&typeof e.tab=="number"&&"plotdataSim"in e&&typeof e.plotdataSim=="object"&&"changed"in e.plotdataSim&&typeof e.plotdataSim.changed=="boolean"&&"cumulative"in e.plotdataSim&&typeof e.plotdataSim.cumulative=="boolean"&&"progress"in e.plotdataSim&&typeof e.plotdataSim.progress=="number"&&"x"in e.plotdataSim&&Array.isArray(e.plotdataSim.x)&&"y"in e.plotdataSim&&Array.isArray(e.plotdataSim.y)&&"plotdataCalc"in e&&typeof e.plotdataCalc=="object"&&"cumulative"in e.plotdataSim&&typeof e.plotdataSim.cumulative=="boolean"&&"x"in e.plotdataCalc&&Array.isArray(e.plotdataCalc.x)&&"y"in e.plotdataCalc&&Array.isArray(e.plotdataCalc.y)&&"threads"in e&&typeof e.threads=="number"}const b=localStorage.getItem("Wishing.Parameters");let o;if(b)try{if(console.log("Try parsing stored values."),o=JSON.parse(b),!F(o))throw console.log("Failed parsing."),new Error("Stored invalid object");console.log("Successful parsing.")}catch(e){console.log(`${e}. Resetting to default values.`),o={mode:"distribution",char:{enabled:!0,goal:0,pity:0,guaranteed:!1},weap:{enabled:!0,goal:1,pity:0,guaranteed:!1},starglitter:{enabled:!1,count:0,cons:[-1,-1,-1,-1]},samplesize:5e5,threads:4,tab:0,plotdataSim:{changed:!1,cumulative:!1,progress:0,x:[],y:[]},plotdataCalc:{cumulative:!1,x:[],y:[]}},localStorage.setItem(p,JSON.stringify(o))}else console.log("No stored values found. Using default values."),o={mode:"distribution",char:{enabled:!0,goal:0,pity:0,guaranteed:!1},weap:{enabled:!0,goal:1,pity:0,guaranteed:!1},starglitter:{enabled:!1,count:0,cons:[-1,-1,-1,-1]},samplesize:5e5,threads:4,tab:0,plotdataSim:{changed:!1,cumulative:!1,progress:0,x:[],y:[]},plotdataCalc:{cumulative:!1,x:[],y:[]}},localStorage.setItem(p,JSON.stringify(o));const{Provider:g,useStore:W}=C(o,p),j=g,A=d.lazy(()=>S(()=>import("./Simulation-06a34f25.js"),["assets/Simulation-06a34f25.js","assets/index-c10e2553.js","assets/index-e24a4806.css","assets/utils-0a1c2836.js","assets/Calculate-cec3653e.js","assets/Button-13c2b2e2.js","assets/Select-3672bf08.js","assets/Input-3466ee6a.js","assets/Grow-fbcd6ced.js","assets/react-plotly-d88ca56c.js","assets/Modebar-4aba22a7.js","assets/Grid-376de6bb.js","assets/ResetStorage-14313838.js","assets/NumberInput-ef8b60e1.js","assets/Close-2f089409.js","assets/FastContext-257893f5.js"])),T=d.lazy(()=>S(()=>import("./Calculation-6598567a.js"),["assets/Calculation-6598567a.js","assets/index-c10e2553.js","assets/index-e24a4806.css","assets/Calculate-cec3653e.js","assets/utils-0a1c2836.js","assets/Button-13c2b2e2.js","assets/react-plotly-d88ca56c.js","assets/Modebar-4aba22a7.js","assets/Grid-376de6bb.js","assets/Select-3672bf08.js","assets/Input-3466ee6a.js","assets/Grow-fbcd6ced.js","assets/ResetStorage-14313838.js","assets/NumberInput-ef8b60e1.js","assets/Close-2f089409.js","assets/FastContext-257893f5.js"]));function i(e){const{children:t,value:r,index:l}=e;return a(c,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:r===l&&a(x,{children:t})})}function O(){const[e,t]=_("Wishing.Tab",0);return a(j,{children:s(c,{minWidth:360,sx:{p:2},children:[a(c,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:s(v,{value:e,onChange:(l,n)=>{t(n)},centered:!0,children:[a(f,{label:a(m,{fontWeight:500,children:" Calculation "}),sx:{px:2}}),a(f,{label:a(m,{fontWeight:500,children:" Simulation "}),sx:{px:2}})]})}),a(i,{value:e,index:0,children:a(d.Suspense,{fallback:a(y,{variant:"rounded",sx:{height:"80vh",width:"100%",backgroundColor:"#FFFFFF21",m:2}}),children:a(T,{})})}),a(i,{value:e,index:1,children:a(d.Suspense,{fallback:a(y,{variant:"rounded",sx:{height:"80vh",width:"100%",backgroundColor:"#FFFFFF21",m:2}}),children:a(A,{})})})]})})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{z as M,W as u};
